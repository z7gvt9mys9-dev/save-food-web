# Save Food Web Platform

Интеллектуальная система перераспределения излишков еды. Платформа соединяет доноров (кафе, магазины, приватные лица) с получателями помощи через эффективную логистику доставщиков.

## Описание проекта

Save Food Web решает проблему пищевых отходов и продовольственной безопасности одновременно. Система предоставляет удобный интерфейс для:

- Доноров: быстро опубликовать доступные товары
- Получателей: найти помощь в ближайшем окружении
- Доставщиков: получить заказы с отслеживанием в реальном времени
- Администраторов: управлять платформой и пользователями

## Технологический стек

### Frontend
- React 18 - библиотека для создания пользовательского интерфейса
- React Router - навигация и маршрутизация
- Yandex Maps API - интерактивная карта с геолокацией
- Lucide React - иконки
- CSS3 - стилизация с поддержкой современных фич

### Backend
- Python 3.12 - язык программирования
- FastAPI - быстрый веб-фреймворк для создания API
- SQLAlchemy - ORM для работы с базами данных
- Pydantic - валидация данных
- Bcrypt - хеширование паролей
- JWT (JSON Web Tokens) - аутентификация и авторизация

### База данных
- SQLite3 - для разработки и тестирования
- Поддержка миграции на PostgreSQL/MySQL в production

### API и сервисы
- Yandex Maps JS API v3.0 - картография и маршрутизация
- Nominatim API - геокодирование адресов
- Valhalla Routing Engine - расчет маршрутов

## Основной функционал

### Система аутентификации
- Регистрация с выбором роли (Донор, Получатель, Доставщик)
- Валидация данных на клиенте и сервере
- Защита паролей с bcrypt (12 раундов хеширования)
- JWT токены для защищенных операций
- Возможность изменения аватара (эмодзи или загрузка фото)

### Панель донора
- Публикация товаров с описанием, количеством, датой истечения
- Указание геолокации товара
- Список собственных публикаций
- Удаление своих проектов (защита от удаления чужих)
- Статистика помощи

### Панель получателя
- Просмотр доступных товаров на карте
- Фильтрация по расстоянию
- Просмотр описания и локации товара
- История принятой помощи

### Панель доставщика
- Список доступных заказов
- Приём заказа с открытием карты и маршрутом
- Геолокация в реальном времени
- Автоматическое завершение доставки при подходе (<10 метров)
- Отслеживание времени доставки
- Статистика:
  - Количество выполненных доставок
  - Рейтинг (средняя оценка)
  - Среднее время доставки

### Интерактивная карта
- Отображение всех проектов на Яндекс Картах
- Текущее местоположение пользователя (синяя точка)
- Точки доноров (красные маркеры)
- Принятый заказ (жёлтая точка)
- Построение маршрута до выбранного проекта
- Зум и навигация в реальном времени
- Расстояние до каждого проекта

### Система уведомлений
- Toast notifications (всплывающие уведомления)
- Автоматическое исчезновение через 3 секунды
- Типы: success (зелёный), error (красный), info (синий)
- История уведомлений в шапке приложения

### Панель администратора
- Управление пользователями (блокировка/разблокировка)
- Просмотр статистики платформы
- Управление проектами
- Аудит системы

## Архитектура проекта

```
schoolProject/
├── backend/
│   ├── main.py                  # FastAPI приложение
│   ├── database.py              # SQLAlchemy конфигурация
│   ├── models.py                # ORM модели
│   ├── crud.py                  # CRUD операции
│   ├── requirements.txt          # Зависимости
│   ├── init_admin.py            # Инициализация пользователей
│   ├── routes/                  # API маршруты
│   ├── services/                # Бизнес логика
│   ├── middleware/              # Middleware компоненты
│   └── security/                # Безопасность
│
└── project/
    ├── package.json             # Зависимости NPM
    ├── src/
    │   ├── App.js               # Главный компонент
    │   ├── pages/               # Страницы приложения
    │   ├── elements/            # UI компоненты
    │   ├── context/             # React Context
    │   ├── services/            # API клиент
    │   ├── hooks/               # Custom hooks
    │   └── styles/              # CSS стили
    └── public/                  # Статические файлы
```

## Установка и запуск

### Требования
- Node.js 16+ для frontend
- Python 3.12+ для backend
- Git

### Установка Backend

```bash
cd backend
python -m venv venv
./venv/Scripts/Activate.ps1
pip install -r requirements.txt
python init_admin.py
python main.py
```

Сервер на http://localhost:5000

### Установка Frontend

```bash
cd project
npm install
npm start
```

Приложение на http://localhost:3000

## Учетные данные по умолчанию

### Developer
- Email: igel2020i@gmail.com
- Пароль: 1
- Роль: Донор

### Admin
- Email: kurt20212022@gmail.com
- Пароль: 1
- Роль: Администратор

## API Endpoints

### Аутентификация
- POST /api/auth/register - Регистрация
- POST /api/auth/login - Вход

### Проекты
- GET /api/projects - Список проектов
- POST /api/projects - Создать проект
- DELETE /api/projects/{id} - Удалить проект

### Доставки
- GET /api/deliveries - Список доставок
- POST /api/deliveries/accept - Принять доставку
- POST /api/deliveries/complete - Завершить доставку

### Пользователи
- GET /api/users/me - Профиль
- PUT /api/users/me - Обновить профиль

## Особенности реализации

### Real-Time Tracking
- Geolocation API для GPS отслеживания
- watchPosition() для непрерывного обновления координат
- Haversine формула для расчета расстояния
- Автоматическое завершение доставки (<10 метров)

### Валидация данных
- Frontend валидация при вводе
- Backend Pydantic валидация
- Поле имени: только буквы и пробелы
- Email валидация по стандарту

### Безопасность
- JWT аутентификация
- Bcrypt хеширование паролей (12 раундов)
- CORS конфигурация
- Проверка владельца при удалении
- Проверка статуса пользователя

### Локализация
- Полная локализация на русский язык
- Yandex Maps на русском

## Команды разработки

```bash
# Backend
python main.py
python init_admin.py
python seed_all.py

# Frontend
npm start
npm run build
npm test
```

## Переменные окружения

### Backend (.env)
```
DATABASE_URL=sqlite:///./savefood.db
JWT_SECRET=save-food-secret-key-2024
ENVIRONMENT=development
PORT=5000
```

## Возможные улучшения

- Интеграция с платежными системами
- Push-уведомления
- Система рейтинга и отзывов
- Кэширование (Redis)
- WebSocket для real-time
- PostgreSQL для production
- Docker контейнеризация
- CI/CD pipeline

## Лицензия

MIT License

## Контакты

Repository: https://github.com/z7gvt9mys9-dev/save-food-web

---

Миссия: Снизить пищевые отходы и помочь нуждающимся с помощью технологий.
